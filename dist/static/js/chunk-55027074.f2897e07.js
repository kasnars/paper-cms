(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55027074"],{"924a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入课程名称搜索","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchHttp(e)}},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchHttp}},[t._v("点击搜索")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增课程")])],1)],1),a("el-dialog",{attrs:{title:"新增课程详情",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"课程号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"课程名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addHttp}},[t._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"code",label:"编号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"课程名称"}}),a("el-table-column",{attrs:{prop:"statusText",label:"状态",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"修改课程详情",visible:t.editShow},on:{"update:visible":function(e){t.editShow=e}}},[a("el-form",{attrs:{model:t.editForm}},[a("el-form-item",{attrs:{label:"课程号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.code,callback:function(e){t.$set(t.editForm,"code",e)},expression:"editForm.code"}})],1),a("el-form-item",{attrs:{label:"课程名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"课程状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[a("el-option",{attrs:{label:"启用",value:!0}}),a("el-option",{attrs:{label:"禁用",value:!1}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editShow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editHttp}},[t._v("确 定")])],1)],1)],1)},i=[],l=a("5530"),n=(a("d3b7"),a("159b"),a("e9c4"),a("ad8f")),s=a("504f"),r=function(t){return Object(s["b"])("/subject/findAllSubjects",t)},c=function(t){return Object(s["a"])("/subject/addSubject",t)},u=function(t){return Object(s["b"])("/subject/deleteSubject",t)},d=function(t){return Object(s["b"])("/subject/findSubject",t)},f=function(t){return Object(s["a"])("/subject/updateSubject",t)},m={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listLoading:!0,fetchBody:{currentPage:1,pageSize:20},tableData:[],searchData:"",dialogFormVisible:!1,formLabelWidth:"auto",form:{code:"",name:""},testData:[{id:"23233",code:123123,name:"测试",status:!1}],editShow:!1,editForm:{}}},created:function(){this.fetchData()},mounted:function(){this.initData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(n["a"])().then((function(e){t.list=e.data.items,t.listLoading=!1}))},initData:function(){var t=this;console.log(this.fetchBody),r(this.fetchBody).then((function(e){console.log(e,"res"),t.tableData=e.data.data,console.log(t.tableData),t.tableData.forEach((function(t){t.statusText=t.status?"有效":"失效"}))}))},addHttp:function(){var t=this;console.log(this.form,"form"),c(this.form).then((function(){t.initData(),t.form={}})),this.dialogFormVisible=!1},searchHttp:function(){var t=this,e=Object(l["a"])(Object(l["a"])({},this.fetchBody),{},{name:this.searchData});console.log(this.searchData),d(e).then((function(e){console.log(e.data.data),t.tableData=e.data.data}))},handleEdit:function(t){this.editForm=JSON.parse(JSON.stringify(t)),this.editShow=!0,console.log(t)},handleDelete:function(t){var e=this,a=t.id;console.log(a,"del"),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u({subjectId:a}).then((function(){e.initData(),e.$message({type:"success",message:"删除成功!"})}))})).catch((function(){e.$message({type:"info",message:"操作已取消!"})}))},editHttp:function(){var t=this;console.log(this.editForm,"edithttp"),f(this.editForm).then((function(){t.initData(),t.editShow=!1}))}}},b=m,h=a("2877"),p=Object(h["a"])(b,o,i,!1,null,null,null);e["default"]=p.exports},ad8f:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("b775");function i(t){return Object(o["a"])({url:"/vue-admin-template/table/list",method:"get",params:t})}}}]);